// With inspiration from Zorg's "Neutral" profile and jrodriguez's "RSS_V2" profile.
// https://forum.kerbalspaceprogram.com/index.php?/topic/188816-*/
// https://www.youtube.com/watch?v=nXqvxSbWoqI

TUFX_PROFILE
{
    // Bright and cheerful.
    name = NeutralNext
    hdr = False
    antialiasing = None // Use built-in hardware MSAA.
    EFFECT
    {
        name = AmbientOcclusion
        Intensity = 0.25
    }
    // EFFECT
    // {
    //     name = AutoExposure
    //     Filtering = 0,82.5
    //     MinLuminance = -3
    //     MaxLuminance = -3.3
    //     KeyValue = 0.125
    //     EyeAdaption = Progressive
    // }
    EFFECT
    {
        name = Bloom
        Intensity = 2
        Threshold = 1.1
        SoftKnee = 0.7
    }
    EFFECT
    {
        name = ColorGrading
        GradingMode = HighDefinitionRange
        Tonemapper = ACES
        Saturation = -10
        PostExposure = 0.1
        Contrast = -5
        Lift = 1,1,1,-0.02
        Gamma = 1,1,1,0.1
        Gain = 1,1,1,0.8
    }
    EFFECT
    {
        name = DepthOfField
        Aperture = 2.25
        KernelSize = VeryLarge
        UseCameraFov = True
    }
}

+TUFX_PROFILE[NeutralNext]
{
    @name = NeutralNext_VintageFilm
    EFFECT
    {
        name = ChromaticAberration
        Intensity = 0.04
    }
    @EFFECT[ColorGrading]
    {
        %Temperature = 20
        %Tint = 3
        %HueShift = -5
        %Contrast = 10
    }
    EFFECT
    {
        name = Grain
        Colored = False
        Intensity = 0.35
        Size = 0.65
    }
    EFFECT
    {
        name = LensDistortion
        Intensity = 10
    }
    EFFECT
    {
        name = Vignette
        Intensity = 0.2
        Smoothness = 0.8
    }
}

+TUFX_PROFILE[NeutralNext]
{
    @name = NeutralNext_VintageCinematic
    @EFFECT[ColorGrading]
    {
        %Temperature = 5
        %HueShift = -10
        @Contrast = 5
        @Lift[0] = 0.95
        @Lift[2] = 1.15
        @Gamma[0] = 1.02
        @Gain[0] = 1.1
        @Gain[2] = 0.9
    }
    EFFECT
    {
        name = Grain
        Colored = False
        Intensity = 0.4
        Size = 0.5
    }
}

+TUFX_PROFILE[NeutralNext]
{
    @name = NeutralNext_MapView
    !EFFECT[AmbientOcclusion] {} // Makes terrain disappear.
    @EFFECT[Bloom]
    {
        @Threshold = 1.25
    }
}

@TUFX_CONFIGURATION[Default]:FINAL
{
    %MainMenuProfile = NeutralNext_MapView
    %SpaceCenterSceneProfile = NeutralNext
    %TrackingStationProfile = NeutralNext_MapView
    %MapSceneProfile = NeutralNext_MapView
    %FlightSceneProfile = NeutralNext
}
